<?xml version="1.0" encoding="windows-1252" ?>
<project default="compile" basedir=".">
<property name="overwrite" value="true"/>
<property name="revision" value="1.0.0"/>
<property name="environment" value="DEV"/>
<!--Ant buildfile generated by Oracle JDeveloper-->
<!--Generated 4 Oct, 2017 12:02:16 PM-->
<project xmlns="antlib:org.apache.tools.ant" name="test-sandeep-application" basedir=".">
  <property file="build.properties"/>

<target name="compile">
  <mkdir dir="SCA-INF/classes/META-INF"/>
  <copy todir="SCA-INF/classes/META-INF" file="config/adf-config.xml" overwrite="true"/>

  <ant antfile="${oracle.home}/bin/ant-sca-package.xml" inheritall="false">
      <property name="compositeDir" value="${basedir}"/>
                <property name="compositeName" value="${compositeName}"/>
      <property name="revision" value="${revision}"/>
             </ant>
</target>
<target name="release" depends="compile">
       <property name="sarLocation" value="sca_${compositeName}_rev${revision}.jar"/>
                   <mkdir dir="${release.dir}"/>
                   <copy todir="${release.dir}" file="deploy/${sarLocation}"/>
</target>

<target name="deploy-dev">
        <property file="${basedir}/config/properties_${environment}.properties"/> 
        <property name="overwrite" value="true"/>
                   <antcall target="deploy"/>
</target>

<target name="deploy-it">
          <property file="${basedir}/config/properties_${environment}.properties"/> 
          <property name="overwrite" value="true"/>
                   <antcall target="deploy"/>
</target>

<target name="deploy"  depends="compile" >
          <echo>Deploying Project: ${compositeName}</echo>
          <echo>basedir: ${basedir}</echo>
          <property name="sarLocation" value="sca_${compositeName}_rev${revision}.jar"/>
          <ant antfile="${oracle.home}/bin/ant-sca-deploy.xml" inheritall="false">
              <property name="serverURL" value="${server.url}"/>
              <property name="sarLocation" value="${basedir}/deploy/${sarLocation}"/>
              <property name="user" value="${server.user}"/>
              <property name="password" value="${server.password}"/>
              <!-- property name="configplan" value="${basedir}/config/${server.configplan}"/-->
              <!--This project do not required configplan file -->
              <property name="partition" value="${server.partition}"/>
              <property name="overwrite" value="${overwrite}"/>
          </ant>
</target>

<target name="package">
     <property name="sarLocation" value="sca_${compositeName}_rev${revision}.jar"/>
                   <copy todir="${basedir}/deploy" overwrite="true" >
                             <fileset dir="${basedir}/config" includes="wlserver*, build.xml" />
                             <filterset>
                                      <filter token="SCAFILE" value="${sarLocation}"/>
                             </filterset>
                   </copy>
       <zip destfile="${basedir}/deploy/${compositeName}_rev${revision}.zip">
          <fileset dir="${basedir}/deploy" includes="${sarLocation}, wlserver*, build.xml" />
      </zip>
</target>
</project>
